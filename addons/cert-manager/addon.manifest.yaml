# SPDX-FileCopyrightText: Â© 2023 Siemens Healthcare GmbH
#
# SPDX-License-Identifier: MIT

apiVersion: v1
kind: AddonManifest
metadata:
  name: cert-manager
  description: TLS certificate manager for kubernetes
spec:
  offline_usage:
    linux:
      repos: []
      deb: []
      curl: []
      additionalImages:
        - quay.io/jetstack/cert-manager-cainjector:v1.14.4
        - quay.io/jetstack/cert-manager-controller:v1.14.4
        - quay.io/jetstack/cert-manager-webhook:v1.14.4
    windows:
      curl:
        - url: https://github.com/cert-manager/cert-manager/releases/download/v1.14.4/cert-manager.yaml
          destination: addons\cert-manager\manifests\cert-manager.yaml
        - url: https://github.com/cert-manager/cmctl/releases/download/v2.0.0/cmctl_windows_amd64.exe
          destination: bin\exe\cmctl.exe
  commands:
    enable:
      cli:
        examples:
          - cmd: k2s addons enable cert-manager
            comment: Enable addon cert-manager in k2s, with CA issuer configured
      script:
        subPath: Enable.ps1
    disable:
      cli:
        examples:
          - cmd: k2s addons disable cert-manager
            comment: Disable addon cert-manager in k2s
      script:
        subPath: Disable.ps1
